<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=1,user-scalable=no" />
  <title>Des mots pour Ã©clairer tes journÃ©es â€” Teddy ðŸ§¸</title>
  <meta name="description" content="Des mots pour Ã©clairer tes journÃ©es â€” Teddy ðŸ§¸" />
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;800&family=Cormorant+Garamond:wght@600&display=swap" rel="stylesheet">
  <style>
    :root{
      --bg:#f6f1ea; --bg-2:#efe6db; --card:#ffffff;
      --ink:#232220; --muted:#5a5652;
      --accent:#6f4e37; --accent-2:#a47551;
      --ring:rgba(164,117,81,.30); --shadow:0 14px 32px rgba(0,0,0,.08); --radius:20px;
    }
    *{box-sizing:border-box} html,body{height:100%}
    body{
      margin:0; -webkit-text-size-adjust:100%; text-size-adjust:100%;
      font-family:Inter,ui-sans-serif,system-ui,-apple-system,"Segoe UI",Roboto,Arial,"Noto Color Emoji";
      color:var(--ink);
      background:
        radial-gradient(1600px 900px at 100% 0%, var(--bg-2) 0%, transparent 55%),
        radial-gradient(1400px 900px at 0% 100%, #eadfce 0%, transparent 55%),
        linear-gradient(180deg, var(--bg), #f7f3ee);
      display:flex; align-items:center; justify-content:center; padding:18px;
    }
    .app{width:100%; max-width:680px}
    .card{background:var(--card); border-radius:var(--radius); box-shadow:var(--shadow); padding:26px; border:1px solid #eee6dd; backdrop-filter: blur(4px);}
    .title{margin:0; text-align:center; letter-spacing:.2px; font-family:"Cormorant Garamond",serif; font-weight:600; font-size:clamp(24px,5.6vw,36px); line-height:1.06;}
    .subtitle{margin:8px 0 2px; text-align:center; color:var(--muted); font-size:14px; font-weight:600;}
    .tabs{display:flex; gap:10px; justify-content:center; flex-wrap:wrap; margin:16px 0 6px;}
    .tab{appearance:none; border:none; cursor:pointer; background:#f2ebe3; color:var(--accent); padding:12px 16px; min-height:44px; min-width:44px; border-radius:999px; font-weight:800; border:1px solid #e6dccf; transition:transform .06s ease;}
    .tab:active{transform:scale(.98)} .tab.active{background:linear-gradient(90deg,var(--accent),var(--accent-2)); color:#fff; border-color:transparent; box-shadow:0 10px 22px rgba(111,78,55,.24)}
    .tab:focus-visible,button:focus-visible{outline:3px solid var(--ring); outline-offset:2px;}
    .pillbar{display:flex; justify-content:space-between; align-items:center; gap:12px; margin:10px 0 0; font-size:13px; color:var(--muted)}
    .pill{background:#f2ebe3; color:var(--accent); padding:8px 12px; border-radius:999px; font-weight:800; border:1px solid #e6dccf}
    .msg{margin:16px 0 12px; padding:26px 28px; border-radius:18px; font-size:clamp(19px,3.8vw,22px); line-height:1.55; text-align:center; border:1px dashed #e6dccf; background:#fbf8f4; min-height:110px; display:flex; align-items:center; justify-content:center; position:relative; overflow:hidden;}
    .controls{display:flex; gap:14px; margin:16px 0 0; justify-content:center; flex-wrap:wrap}
    button{appearance:none; border:none; cursor:pointer; font-weight:900; letter-spacing:.2px; border-radius:14px; padding:14px 18px; min-height:46px; min-width:46px; background:linear-gradient(90deg,var(--accent),var(--accent-2)); color:#fff; box-shadow:0 10px 24px rgba(111,78,55,.25); transition:transform .06s ease;}
    button:active{transform:translateY(1px)} button.secondary{background:#f2ebe3; color:var(--accent); box-shadow:none; border:1px solid #e6dccf; font-weight:800;}
    .note{margin:10px 0 0; text-align:center; font-size:12px; color:var(--muted)} .hidden{display:none}
    .spark{position:absolute; width:8px; height:8px; border-radius:50%; background:radial-gradient(circle at center,#ffd9a1,rgba(255,217,161,0) 70%); opacity:0; animation:rise 1200ms ease-out forwards; pointer-events:none; user-select:none;}
    @keyframes rise{0%{transform:translateY(8px) scale(.8); opacity:0} 20%{opacity:.85} 100%{transform:translateY(-86px) scale(1.25); opacity:0}}
    a{color:var(--accent); text-decoration:none}
    @media (max-width:480px){ body{padding:14px} .card{padding:20px; border-radius:16px} .tabs{gap:8px} .msg{padding:22px 22px; min-height:120px} }
    @media (prefers-reduced-motion:reduce){ .spark{animation:none; display:none} .tab,button{transition:none}}
  </style>
</head>
<body>
  <div class="app">
    <div class="card">
      <h1 class="title">Des mots pour Ã©clairer tes journÃ©es â€” Teddy ðŸ§¸</h1>
      <p class="subtitle">Des messages prÃ©parÃ©s pour toi ðŸ¤Ž</p>

      <div class="tabs" role="tablist" aria-label="CatÃ©gories">
        <button class="tab active" data-cat="amour" aria-selected="true">ðŸ’œ Amour</button>
        <button class="tab" data-cat="motivation" aria-selected="false">ðŸ’¼ Motivation</button>
        <button class="tab" data-cat="bible" aria-selected="false">ðŸ“– Foi & Inspiration</button>
      </div>

      <div class="pillbar">
        <span id="count" class="pill">0 / 30 (catÃ©gorie)</span>
        <span id="left">Tirages restants aujourdâ€™hui : 5</span>
      </div>

      <div id="message" class="msg">PrÃªte ? Appuie sur Â« Tirer un message Â» âœ¨</div>

      <div class="controls">
        <button id="draw">Tirer un message</button>
        <button id="share" class="secondary">Partager</button>
      </div>

      <p class="note" id="finalNote" aria-live="polite"></p>
      <p class="note">Limite : 5 messages par jour (rÃ©initialisation automatique Ã  minuit) â€¢ Pas de rÃ©pÃ©tition avant dâ€™avoir tout dÃ©couvert dans la catÃ©gorie.</p>
    </div>
  </div>

  <script>
    /* ðŸš¨ TEMPORAIRE â€“ RESET GLOBAL (Ã  SUPPRIMER quand tout est prÃªt) */
    try { localStorage.clear(); } catch(e) {}

    /* DonnÃ©es */
    const MESSAGES_AMOUR = [
      "Ton amour nâ€™a pas besoin de mots pour se faire comprendre, il se ressent jusque dans le silence.",
      "Depuis que tu existes dans ma vie, tout ce qui Ã©tait flou a trouvÃ© un sens.",
      "Tu es ce genre de prÃ©sence qui calme sans parler, qui rassure sans promettre.",
      "Quand nos regards se croisent, câ€™est comme si le temps sâ€™accordait une pause.",
      "Je ne tâ€™aime pas seulement pour ce que tu es, mais pour ce que je deviens Ã  tes cÃ´tÃ©s.",
      "MÃªme dans mes doutes, ton souvenir reste ma plus belle certitude.",
      "Tu as su tâ€™installer dans mon cÅ“ur sans bruit, mais plus rien nâ€™y rÃ©sonne sans toi.",
      "Ton absence a parfois le poids de mille prÃ©sences, mais elle me rappelle Ã  quel point tu comptes.",
      "Il y a des jours oÃ¹ tâ€™aimer est ma seule faÃ§on de respirer.",
      "Ton nom est devenu la rÃ©ponse naturelle Ã  mes priÃ¨res silencieuses.",
      "Tu es cette lumiÃ¨re qui ne demande pas dâ€™Ã©teindre les autres, juste dâ€™Ã©clairer ma route.",
      "Je tâ€™aime sans effort, comme on respire ou comme on ferme les yeux face au soleil.",
      "Quand je pense Ã  toi, le monde semble reprendre sa cohÃ©rence.",
      "Nos Ã¢mes se sont reconnues avant mÃªme que nos voix se rencontrent.",
      "Ton amour me pousse Ã  devenir quelquâ€™un de meilleur, pas quelquâ€™un de diffÃ©rent.",
      "Je ne cherche pas lâ€™Ã©ternitÃ©, juste la paix que je trouve dans tes bras.",
      "Avec toi, jâ€™ai compris que lâ€™amour ne se mesure pas au temps, mais Ã  la profondeur des moments.",
      "MÃªme quand tu nâ€™es pas lÃ , tu continues dâ€™exister dans mes gestes, mes pensÃ©es, mes choix.",
      "Ton sourire a le pouvoir Ã©trange dâ€™apaiser ce que le monde agite en moi.",
      "Je ne sais pas oÃ¹ la vie me mÃ¨nera, mais je sais que je veux tâ€™y emmener.",
      "Ton regard est devenu mon refuge prÃ©fÃ©rÃ©.",
      "Aimer, câ€™est accepter dâ€™Ãªtre vulnÃ©rable, et avec toi, je nâ€™ai jamais eu peur de lâ€™Ãªtre.",
      "Ton amour a cette force tranquille qui me ramÃ¨ne toujours Ã  moi-mÃªme.",
      "Je ne tâ€™aime pas comme on aime un rÃªve, mais comme on aime une vÃ©ritÃ©.",
      "Tu as transformÃ© ma solitude en silence paisible.",
      "Chaque battement de mon cÅ“ur est un rappel discret que tu existes quelque part en moi.",
      "Ton absence ne me vide pas, elle me rappelle tout ce que ta prÃ©sence remplit.",
      "Si aimer, câ€™est comprendre sans tout expliquer, alors je te comprends dÃ©jÃ .",
      "Tu es la phrase que mon Ã¢me Ã©crivait bien avant de te rencontrer.",
      "Et sâ€™il fallait recommencer mille vies, je choisirais encore celle oÃ¹ nos chemins se croisent."
    ];

    const MESSAGES_MOTIVATION = [
      "Tu nâ€™as pas choisi la facilitÃ©, tu as choisi la croissance â€” et câ€™est ce qui te rend unique.",
      "Ton courage dâ€™essayer vaut bien plus que la peur dâ€™Ã©chouer.",
      "Tu ne cherches pas juste un stage, tu construis les fondations de ta vision.",
      "Lâ€™audace dâ€™aujourdâ€™hui sera le souvenir fier de demain.",
      "Rien nâ€™est plus fort quâ€™une femme qui sait pourquoi elle se lÃ¨ve chaque matin.",
      "MÃªme quand tu doutes, ta lumiÃ¨re continue dâ€™inspirer autour de toi.",
      "Ton parcours nâ€™a pas besoin dâ€™Ãªtre parfait pour Ãªtre puissant.",
      "Les grandes choses commencent souvent dans le calme de ceux qui rÃªvent sans bruit.",
      "Tu es exactement Ã  lâ€™endroit oÃ¹ tu dois Ãªtre pour apprendre ce qui fera ta force.",
      "Ce que tu vis aujourdâ€™hui prÃ©pare la version de toi que tu admireras demain.",
      "Chaque entretien, chaque refus, chaque effort te rapproche de ta place.",
      "Lâ€™ambition nâ€™est pas un dÃ©faut : câ€™est un cadeau que tu apprends Ã  apprivoiser.",
      "Continue dâ€™entreprendre, mÃªme quand personne ne regarde â€” la constance est ton meilleur alliÃ©.",
      "Tu nâ€™as rien Ã  prouver, seulement Ã  exprimer ce que tu portes dÃ©jÃ  en toi.",
      "Ton authenticitÃ© sera toujours ton meilleur argument.",
      "Quand tu parles Ã  la jeunesse, tu plantes des graines que tu ne vois pas encore grandir.",
      "Le monde a besoin de voix comme la tienne â€” vraies, bienveillantes et courageuses.",
      "Ton regard sur les choses transforme dÃ©jÃ  ton environnement.",
      "Les plus beaux parcours ne sont pas linÃ©aires, mais remplis dâ€™intentions sincÃ¨res.",
      "Lâ€™Ã©chec ne te dÃ©finit pas : il tâ€™Ã©quipe.",
      "Un jour, tu regarderas ce moment et tu comprendras quâ€™il te prÃ©parait Ã  briller.",
      "Ne te presse pas : les choses solides prennent du temps Ã  pousser.",
      "Tu nâ€™as pas besoin dâ€™Ãªtre prÃªte Ã  100 %, tu as juste besoin dâ€™y croire Ã  51 %. Le reste viendra.",
      "Ton sÃ©rieux impressionne, mais câ€™est ta chaleur humaine qui marque les esprits.",
      "Ta force, câ€™est dâ€™unir ambition et bontÃ© sans jamais les opposer.",
      "Tu es la preuve vivante que douceur et dÃ©termination peuvent cohabiter.",
      "MÃªme fatiguÃ©e, tu avances â€” et câ€™est Ã§a, la vraie discipline.",
      "Quand tu parles, tu sÃ¨mes de la clartÃ© lÃ  oÃ¹ dâ€™autres ne voient que le flou.",
      "Continue Ã  rÃªver grand, Ã  travailler juste, et Ã  aimer fort : câ€™est ta formule magique.",
      "Tu nâ€™es pas en train de chercher ta voie â€” tu es en train de la crÃ©er."
    ];

    const MESSAGES_BIBLE = [
      "Â« Je puis tout par celui qui me fortifie. Â» â€” Philippiens 4:13",
      "Â« Car je connais les projets que jâ€™ai formÃ©s pour vousâ€¦ Â» â€” JÃ©rÃ©mie 29:11",
      "Â« Lâ€™Ã‰ternel combattra pour vous ; et vous, gardez le silence. Â» â€” Exode 14:14",
      "Â« Le Seigneur est ma lumiÃ¨re et mon salut ; de qui aurais-je peur ? Â» â€” Psaume 27:1",
      "Â« Ne te dÃ©courage pasâ€¦ lâ€™Ã‰ternel ton Dieu est avec toi. Â» â€” JosuÃ© 1:9",
      "Â« Confie-toi en lâ€™Ã‰ternel de tout ton cÅ“urâ€¦ Â» â€” Proverbes 3:5",
      "Â« Ceux qui espÃ¨rent en lâ€™Ã‰ternel renouvellent leur force. Â» â€” Ã‰saÃ¯e 40:31",
      "Â« Cherchez dâ€™abord le royaume de Dieuâ€¦ Â» â€” Matthieu 6:33",
      "Â« Dieu est au milieu dâ€™elle ; elle ne chancelle point. Â» â€” Psaume 46:5",
      "Â« Lâ€™amour est patient, il est plein de bontÃ©. Â» â€” 1 Corinthiens 13:4",
      "Â« Remets ton sort Ã  lâ€™Ã‰ternelâ€¦ et il agira. Â» â€” Psaume 37:5",
      "Â« Fais de lâ€™Ã‰ternel tes dÃ©licesâ€¦ Â» â€” Psaume 37:4",
      "Â« Car rien nâ€™est impossible Ã  Dieu. Â» â€” Luc 1:37",
      "Â« Le Seigneur te gardera de tout mal. Â» â€” Psaume 121:7",
      "Â« Lâ€™Ã‰ternel est bon, refuge au jour de la dÃ©tresse. Â» â€” Nahum 1:7",
      "Â« Le juste tombe sept fois, et il se relÃ¨ve. Â» â€” Proverbes 24:16",
      "Â« BÃ©nis lâ€™Ã‰ternel, mon Ã¢meâ€¦ Â» â€” Psaume 103:2",
      "Â« Nous marchons par la foi, non par la vue. Â» â€” 2 Corinthiens 5:7",
      "Â« Dieu est notre refuge et notre forceâ€¦ Â» â€” Psaume 46:1",
      "Â« Le Seigneur est fidÃ¨le ; il affermira ton cÅ“ur. Â» â€” 2 Thessaloniciens 3:3",
      "Â« Recommande Ã  lâ€™Ã‰ternel tes Å“uvresâ€¦ Â» â€” Proverbes 16:3",
      "Â« Lâ€™espÃ©rance ne trompe point. Â» â€” Romains 5:5",
      "Â« Le ciel sâ€™ouvrira pour bÃ©nir le travail de tes mains. Â» â€” DeutÃ©ronome 28:12",
      "Â« Sois fort et prends courage, ne crains point. Â» â€” DeutÃ©ronome 31:6",
      "Â« Lâ€™Ã‰ternel est mon berger ; je ne manquerai de rien. Â» â€” Psaume 23:1",
      "Â« Pas par la force ni par la puissance, mais par mon Esprit. Â» â€” Zacharie 4:6",
      "Â« Le Seigneur affermit les pas de lâ€™hommeâ€¦ Â» â€” Psaume 37:23",
      "Â« Quand je suis faible, câ€™est alors que je suis fort. Â» â€” 2 Corinthiens 12:10",
      "Â« Dieu fera Ã©clater ta justice comme la lumiÃ¨re. Â» â€” Psaume 37:6",
      "Â« LÃ¨ve-toi, ta lumiÃ¨re arriveâ€¦ Â» â€” Ã‰saÃ¯e 60:1"
    ];

    const CATS = { amour: MESSAGES_AMOUR, motivation: MESSAGES_MOTIVATION, bible: MESSAGES_BIBLE };

    /* Ã‰tat & limites */
    const STORAGE = {
      DAILY: "teddy_daily_v2",
      SEEN:  "teddy_seen_v2"
    };

    const els = {
      tabs: document.querySelectorAll(".tab"),
      msg: document.getElementById("message"),
      count: document.getElementById("count"),
      left: document.getElementById("left"),
      final: document.getElementById("finalNote"),
      draw: document.getElementById("draw"),
      share: document.getElementById("share")
    };
    let currentCat = "amour";

    function todayLocal(){const d=new Date();const y=d.getFullYear();const m=String(d.getMonth()+1).padStart(2,"0");const day=String(d.getDate()).padStart(2,"0");return `${y}-${m}-${day}`;}
    function loadDaily(){try{const raw=localStorage.getItem(STORAGE.DAILY);const today=todayLocal();if(!raw) return {date:today,count:0};const o=JSON.parse(raw);if(o.date!==today) return {date:today,count:0};return o;}catch{return {date:todayLocal(),count:0};}}
    function saveDaily(o){localStorage.setItem(STORAGE.DAILY,JSON.stringify(o));}
    function incDaily(){const o=loadDaily();o.count=(o.count||0)+1;saveDaily(o);return o;}
    function remainingToday(){const o=loadDaily();return Math.max(0,5-(o.count||0));}

    function loadSeen(){try{const raw=localStorage.getItem(STORAGE.SEEN);if(!raw) return {amour:[],motivation:[],bible:[]};const o=JSON.parse(raw);return {amour:o.amour||[],motivation:o.motivation||[],bible:o.bible||[]};}catch{return {amour:[],motivation:[],bible:[]};}}
    function saveSeen(s){localStorage.setItem(STORAGE.SEEN,JSON.stringify(s));}
    function randomUnseenIndex(cat){const arr=CATS[cat];const seen=loadSeen();const set=new Set(seen[cat]);if(set.size>=arr.length){seen[cat]=[];saveSeen(seen);return Math.floor(Math.random()*arr.length);}let idx;do{idx=Math.floor(Math.random()*arr.length);}while(set.has(idx));return idx;}
    function markSeen(cat,idx){const seen=loadSeen();if(!Array.isArray(seen[cat])) seen[cat]=[];if(!seen[cat].includes(idx)) seen[cat].push(idx);saveSeen(seen);}

    function animateSparks(c){for(let i=0;i<8;i++){const s=document.createElement("div");s.className="spark";const left=12+Math.random()*76;s.style.left=left+"%";s.style.animationDelay=(i*80)+"ms";c.appendChild(s);setTimeout(()=>s.remove(),1300);}}
    function updateCounters(){const seen=loadSeen();const total=CATS[currentCat].length;const done=(seen[currentCat]||[]).length;els.count.textContent=`${done} / ${total} (catÃ©gorie)`;els.left.textContent=`Tirages restants aujourdâ€™hui : ${remainingToday()}`;}
    function setCategory(cat){currentCat=cat;els.tabs.forEach(t=>{const a=t.dataset.cat===cat;t.classList.toggle("active",a);t.setAttribute("aria-selected",a?"true":"false");});els.final.textContent="";updateCounters();els.msg.textContent="PrÃªte ? Appuie sur Â« Tirer un message Â» âœ¨";}
    function drawMessage(){const left=remainingToday();if(left<=0){els.final.textContent="ðŸŒ¸ Tu as dÃ©jÃ  tirÃ© 5 messages aujourdâ€™huiâ€¦ prends le temps de mÃ©diter sur ceux-lÃ  ðŸ¤Ž";return;}const idx=randomUnseenIndex(currentCat);const text=CATS[currentCat][idx];markSeen(currentCat,idx);els.msg.textContent=text;animateSparks(els.msg);incDaily();updateCounters();}
    function shareCurrent(){const text=els.msg.textContent?.trim()||"Des mots pour Ã©clairer tes journÃ©es â€” Teddy ðŸ§¸";const url=location.href;if(navigator.share){navigator.share({title:"Des mots â€” Teddy ðŸ§¸",text,url}).catch(()=>{});}else{navigator.clipboard?.writeText(`${text}\n${url}`).then(()=>{els.final.textContent="Lien + message copiÃ©s dans le presse-papiers âœ…";}).catch(()=>{els.final.textContent="Partage non supportÃ© â€” copie le texte manuellement ðŸ˜Š";});}}

    /* Events */
    document.querySelectorAll(".tab").forEach(tab=>tab.addEventListener("click",()=>setCategory(tab.dataset.cat)));
    els.draw.addEventListener("click",drawMessage);
    els.share.addEventListener("click",shareCurrent);

    /* Init */
    setCategory("amour");
    updateCounters();

    /* Auto reset du compteur Ã  minuit */
    setInterval(()=>{const o=loadDaily();const today=todayLocal();if(o.date!==today){saveDaily({date:today,count:0});updateCounters();}},60*1000);
  </script>
</body>
</html>
