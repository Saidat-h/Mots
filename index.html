<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=1,user-scalable=no" />
  <title>Des mots pour √©clairer tes journ√©es ‚Äî Teddy üß∏</title>
  <meta name="description" content="Des mots pour √©clairer tes journ√©es ‚Äî Teddy üß∏" />
  <!-- Polices √©l√©gantes (UI + texte des messages) -->
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;800&family=Cormorant+Garamond:wght@600&display=swap" rel="stylesheet">
  <style>
    :root{
      /* Palette chic: marron, beige, gris, blanc */
      --bg:#f6f1ea;           /* beige doux */
      --bg-2:#efe4d7;         /* beige + chaud */
      --card:#ffffff;         /* carte blanche */
      --ink:#232220;          /* noir doux (contraste ‚Üë pour mobile) */
      --muted:#5a5652;        /* gris/brun (contraste ‚Üë) */
      --accent:#6f4e37;       /* marron caf√© */
      --accent-2:#a47551;     /* marron clair */
      --ring:rgba(164,117,81,.30);
      --shadow:0 14px 32px rgba(0,0,0,.08);
      --radius:20px;
    }
    *{box-sizing:border-box}
    html,body{height:100%}
    body{
      margin:0;
      -webkit-text-size-adjust:100%;
      text-size-adjust:100%;
      font-family: Inter, ui-sans-serif, system-ui, -apple-system, "Segoe UI", Roboto, Arial, "Noto Color Emoji";
      color:var(--ink);
      /* üåü Fond premium : d√©grad√©s + halo + conic paint + vignette douce */
      background-color: var(--bg);
      background-image:
        radial-gradient(1200px 800px at 85% 0%, var(--bg-2) 0%, transparent 55%),
        radial-gradient(1000px 700px at 0% 100%, #eadfce 0%, transparent 60%),
        conic-gradient(from 160deg at 50% 30%, rgba(164,117,81,.07), rgba(255,255,255,0) 40%),
        radial-gradient(700px 500px at 50% 28%, rgba(255,255,255,.6), rgba(255,255,255,0) 60%);
      background-attachment: fixed, fixed, fixed, fixed;
      display:flex; align-items:center; justify-content:center; padding:18px;
      position:relative; overflow-x:hidden;
    }
    /* Texture papier (ultra-l√©g√®re) */
    body::before{
      content:""; position:fixed; inset:0; pointer-events:none; z-index:-1;
      background:
        repeating-linear-gradient(0deg, rgba(0,0,0,.015) 0 1px, transparent 1px 2px),
        repeating-linear-gradient(90deg, rgba(0,0,0,.012) 0 1px, transparent 1px 2px);
      mix-blend-mode:multiply; opacity:.25;
    }
    /* Vignette douce sur les bords pour ‚Äúposer‚Äù le contenu */
    body::after{
      content:""; position:fixed; inset:-10vmax; pointer-events:none; z-index:-1;
      background: radial-gradient(120vmax 80vmax at 50% 50%, transparent 60%, rgba(0,0,0,.06));
    }

    .app{width:100%; max-width:680px}
    .card{
      background:var(--card); border-radius:var(--radius); box-shadow:var(--shadow);
      padding:26px; border:1px solid #eee6dd; backdrop-filter: blur(4px);
    }

    /* Titres : plus '√©motion' avec Cormorant pour h1 */
    .title{
      margin:0; text-align:center; letter-spacing:.2px;
      font-family: "Cormorant Garamond", serif; font-weight:600;
      font-size:clamp(24px,5.6vw,36px); line-height:1.06;
    }
    .subtitle{
      margin:8px 0 2px; text-align:center; color:var(--muted);
      font-size:14px; font-weight:600;
    }

    .tabs{
      display:flex; gap:10px; justify-content:center; flex-wrap:wrap; margin:16px 0 6px;
    }
    .tab{
      appearance:none; border:none; cursor:pointer;
      background:#f2ebe3; color:var(--accent);
      padding:12px 16px; min-height:44px; min-width:44px;
      border-radius:999px; font-weight:800; border:1px solid #e6dccf;
      transition:transform .06s ease;
    }
    .tab:active{ transform:scale(.98) }
    .tab.active{
      background:linear-gradient(90deg,var(--accent),var(--accent-2));
      color:#fff; border-color:transparent;
      box-shadow:0 10px 22px rgba(111,78,55,.24)
    }
    .tab:focus-visible, button:focus-visible{
      outline:3px solid var(--ring); outline-offset:2px;
    }

    .pillbar{
      display:flex; justify-content:space-between; align-items:center;
      gap:12px; margin:10px 0 0;
      font-size:13px; color:var(--muted)
    }
    .pill{background:#f2ebe3; color:var(--accent); padding:8px 12px; border-radius:999px; font-weight:800; border:1px solid #e6dccf}

    .msg{
      margin:16px 0 12px; padding:26px 28px; border-radius:18px;
      font-size:clamp(19px,3.8vw,22px); line-height:1.55; text-align:center;
      border:1px dashed #e6dccf; background:#fbf8f4; min-height:110px;
      display:flex; align-items:center; justify-content:center;
      position:relative; overflow:hidden;
    }

    .controls{display:flex; gap:14px; margin:16px 0 0; justify-content:center; flex-wrap:wrap}
    button{
      appearance:none; border:none; cursor:pointer; font-weight:900; letter-spacing:.2px;
      border-radius:14px; padding:14px 18px; min-height:46px; min-width:46px;
      background:linear-gradient(90deg,var(--accent),var(--accent-2)); color:#fff;
      box-shadow:0 10px 24px rgba(111,78,55,.25);
      transition:transform .06s ease;
    }
    button:active{ transform:translateY(1px) }
    button.secondary{
      background:#f2ebe3; color:var(--accent); box-shadow:none; border:1px solid #e6dccf;
      font-weight:800;
    }

    .note{margin:10px 0 0; text-align:center; font-size:12px; color:var(--muted)}
    .hidden{display:none}

    /* Effet halo "dor√©" discret √† l‚Äôapparition */
    .spark{
      position:absolute; width:8px; height:8px; border-radius:50%;
      background: radial-gradient(circle at center, #ffd9a1, rgba(255,217,161,0) 70%);
      opacity:0; animation: rise 1200ms ease-out forwards;
      pointer-events:none; user-select:none;
    }
    @keyframes rise{
      0%{transform:translateY(8px) scale(.8); opacity:0}
      20%{opacity:.85}
      100%{transform:translateY(-86px) scale(1.25); opacity:0}
    }

    a{color:var(--accent); text-decoration:none}

    /* Mobile finitions */
    @media (max-width: 480px){
      body { padding: 14px; }
      .card { padding: 20px; border-radius:16px; }
      .tabs { gap:8px }
      .msg { padding: 22px 22px; min-height:120px }
    }

    /* Respect des pr√©f√©rences utilisateurs */
    @media (prefers-reduced-motion: reduce){
      .spark{ animation: none; display:none }
      .tab, button{ transition: none }
    }
  </style>
</head>
<body>
  <div class="app">
    <div class="card">
      <h1 class="title">Des mots pour √©clairer tes journ√©es ‚Äî Teddy üß∏</h1>
      <p class="subtitle">Des messages pr√©par√©s pour toi ü§é</p>

      <!-- Cat√©gories -->
      <div class="tabs" role="tablist" aria-label="Cat√©gories">
        <button class="tab active" data-cat="amour" aria-selected="true">üíú Amour</button>
        <button class="tab" data-cat="motivation" aria-selected="false">üíº Motivation</button>
        <button class="tab" data-cat="bible" aria-selected="false">üìñ Foi & Inspiration</button>
      </div>

      <!-- Compteurs -->
      <div class="pillbar">
        <span id="count" class="pill">0 / 30 (cat√©gorie)</span>
        <span id="left">Tirages restants aujourd‚Äôhui : 3</span>
      </div>

      <!-- Zone message -->
      <div id="message" class="msg">Pr√™te ? Appuie sur ¬´ Tirer un message ¬ª ‚ú®</div>

      <!-- Actions -->
      <div class="controls">
        <button id="draw">Tirer un message</button>
        <button id="share" class="secondary">Partager</button>
      </div>

      <p class="note" id="finalNote" aria-live="polite"></p>
      <p class="note">Limite : 3 messages par jour (r√©initialisation automatique √† minuit) ‚Ä¢ Pas de r√©p√©tition avant d‚Äôavoir tout d√©couvert dans la cat√©gorie.</p>
    </div>
  </div>

  <script>
    // =========================
    // Config : nombre max / jour
    // =========================
    const MAX_DAILY = 3;

    // =========================
    // Donn√©es ‚Äî 3 cat√©gories
    // =========================
    const MESSAGES_AMOUR = [
      "Ton amour n‚Äôa pas besoin de mots pour se faire comprendre, il se ressent jusque dans le silence.",
      "Depuis que tu existes dans ma vie, tout ce qui √©tait flou a trouv√© un sens.",
      "Tu es ce genre de pr√©sence qui calme sans parler, qui rassure sans promettre.",
      "Quand nos regards se croisent, c‚Äôest comme si le temps s‚Äôaccordait une pause.",
      "Je ne t‚Äôaime pas seulement pour ce que tu es, mais pour ce que je deviens √† tes c√¥t√©s.",
      "M√™me dans mes doutes, ton souvenir reste ma plus belle certitude.",
      "Tu as su t‚Äôinstaller dans mon c≈ìur sans bruit, mais plus rien n‚Äôy r√©sonne sans toi.",
      "Ton absence a parfois le poids de mille pr√©sences, mais elle me rappelle √† quel point tu comptes.",
      "Il y a des jours o√π t‚Äôaimer est ma seule fa√ßon de respirer.",
      "Ton nom est devenu la r√©ponse naturelle √† mes pri√®res silencieuses.",
      "Tu es cette lumi√®re qui ne demande pas d‚Äô√©teindre les autres, juste d‚Äô√©clairer ma route.",
      "Je t‚Äôaime sans effort, comme on respire ou comme on ferme les yeux face au soleil.",
      "Quand je pense √† toi, le monde semble reprendre sa coh√©rence.",
      "Nos √¢mes se sont reconnues avant m√™me que nos voix se rencontrent.",
      "Ton amour me pousse √† devenir quelqu‚Äôun de meilleur, pas quelqu‚Äôun de diff√©rent.",
      "Je ne cherche pas l‚Äô√©ternit√©, juste la paix que je trouve dans tes bras.",
      "Avec toi, j‚Äôai compris que l‚Äôamour ne se mesure pas au temps, mais √† la profondeur des moments.",
      "M√™me quand tu n‚Äôes pas l√†, tu continues d‚Äôexister dans mes gestes, mes pens√©es, mes choix.",
      "Ton sourire a le pouvoir √©trange d‚Äôapaiser ce que le monde agite en moi.",
      "Je ne sais pas o√π la vie me m√®nera, mais je sais que je veux t‚Äôy emmener.",
      "Ton regard est devenu mon refuge pr√©f√©r√©.",
      "Aimer, c‚Äôest accepter d‚Äô√™tre vuln√©rable, et avec toi, je n‚Äôai jamais eu peur de l‚Äô√™tre.",
      "Ton amour a cette force tranquille qui me ram√®ne toujours √† moi-m√™me.",
      "Je ne t‚Äôaime pas comme on aime un r√™ve, mais comme on aime une v√©rit√©.",
      "Tu as transform√© ma solitude en silence paisible.",
      "Chaque battement de mon c≈ìur est un rappel discret que tu existes quelque part en moi.",
      "Ton absence ne me vide pas, elle me rappelle tout ce que ta pr√©sence remplit.",
      "Si aimer, c‚Äôest comprendre sans tout expliquer, alors je te comprends d√©j√†.",
      "Tu es la phrase que mon √¢me √©crivait bien avant de te rencontrer.",
      "Et s‚Äôil fallait recommencer mille vies, je choisirais encore celle o√π nos chemins se croisent."
    ];

    const MESSAGES_MOTIVATION = [
      "Tu n‚Äôas pas choisi la facilit√©, tu as choisi la croissance ‚Äî et c‚Äôest ce qui te rend unique.",
      "Ton courage d‚Äôessayer vaut bien plus que la peur d‚Äô√©chouer.",
      "Tu ne cherches pas juste un stage, tu construis les fondations de ta vision.",
      "L‚Äôaudace d‚Äôaujourd‚Äôhui sera le souvenir fier de demain.",
      "Rien n‚Äôest plus fort qu‚Äôune femme qui sait pourquoi elle se l√®ve chaque matin.",
      "M√™me quand tu doutes, ta lumi√®re continue d‚Äôinspirer autour de toi.",
      "Ton parcours n‚Äôa pas besoin d‚Äô√™tre parfait pour √™tre puissant.",
      "Les grandes choses commencent souvent dans le calme de ceux qui r√™vent sans bruit.",
      "Tu es exactement √† l‚Äôendroit o√π tu dois √™tre pour apprendre ce qui fera ta force.",
      "Ce que tu vis aujourd‚Äôhui pr√©pare la version de toi que tu admireras demain.",
      "Chaque entretien, chaque refus, chaque effort te rapproche de ta place.",
      "L‚Äôambition n‚Äôest pas un d√©faut : c‚Äôest un cadeau que tu apprends √† apprivoiser.",
      "Continue d‚Äôentreprendre, m√™me quand personne ne regarde ‚Äî la constance est ton meilleur alli√©.",
      "Tu n‚Äôas rien √† prouver, seulement √† exprimer ce que tu portes d√©j√† en toi.",
      "Ton authenticit√© sera toujours ton meilleur argument.",
      "Quand tu parles √† la jeunesse, tu plantes des graines que tu ne vois pas encore grandir.",
      "Le monde a besoin de voix comme la tienne ‚Äî vraies, bienveillantes et courageuses.",
      "Ton regard sur les choses transforme d√©j√† ton environnement.",
      "Les plus beaux parcours ne sont pas lin√©aires, mais remplis d‚Äôintentions sinc√®res.",
      "L‚Äô√©chec ne te d√©finit pas : il t‚Äô√©quipe.",
      "Un jour, tu regarderas ce moment et tu comprendras qu‚Äôil te pr√©parait √† briller.",
      "Ne te presse pas : les choses solides prennent du temps √† pousser.",
      "Tu n‚Äôas pas besoin d‚Äô√™tre pr√™te √† 100 %, tu as juste besoin d‚Äôy croire √† 51 %. Le reste viendra.",
      "Ton s√©rieux impressionne, mais c‚Äôest ta chaleur humaine qui marque les esprits.",
      "Ta force, c‚Äôest d‚Äôunir ambition et bont√© sans jamais les opposer.",
      "Tu es la preuve vivante que douceur et d√©termination peuvent cohabiter.",
      "M√™me fatigu√©e, tu avances ‚Äî et c‚Äôest √ßa, la vraie discipline.",
      "Quand tu parles, tu s√®mes de la clart√© l√† o√π d‚Äôautres ne voient que le flou.",
      "Continue √† r√™ver grand, √† travailler juste, et √† aimer fort : c‚Äôest ta formule magique.",
      "Tu n‚Äôes pas en train de chercher ta voie ‚Äî tu es en train de la cr√©er."
    ];

    const MESSAGES_BIBLE = [
      "¬´ Je puis tout par celui qui me fortifie. ¬ª ‚Äî Philippiens 4:13",
      "¬´ Car je connais les projets que j‚Äôai form√©s pour vous‚Ä¶ ¬ª ‚Äî J√©r√©mie 29:11",
      "¬´ L‚Äô√âternel combattra pour vous ; et vous, gardez le silence. ¬ª ‚Äî Exode 14:14",
      "¬´ Le Seigneur est ma lumi√®re et mon salut ; de qui aurais-je peur ? ¬ª ‚Äî Psaume 27:1",
      "¬´ Ne te d√©courage pas‚Ä¶ l‚Äô√âternel ton Dieu est avec toi. ¬ª ‚Äî Josu√© 1:9",
      "¬´ Confie-toi en l‚Äô√âternel de tout ton c≈ìur‚Ä¶ ¬ª ‚Äî Proverbes 3:5",
      "¬´ Ceux qui esp√®rent en l‚Äô√âternel renouvellent leur force. ¬ª ‚Äî √âsa√Øe 40:31",
      "¬´ Cherchez d‚Äôabord le royaume de Dieu‚Ä¶ ¬ª ‚Äî Matthieu 6:33",
      "¬´ Dieu est au milieu d‚Äôelle ; elle ne chancelle point. ¬ª ‚Äî Psaume 46:5",
      "¬´ L‚Äôamour est patient, il est plein de bont√©. ¬ª ‚Äî 1 Corinthiens 13:4",
      "¬´ Remets ton sort √† l‚Äô√âternel‚Ä¶ et il agira. ¬ª ‚Äî Psaume 37:5",
      "¬´ Fais de l‚Äô√âternel tes d√©lices‚Ä¶ ¬ª ‚Äî Psaume 37:4",
      "¬´ Car rien n‚Äôest impossible √† Dieu. ¬ª ‚Äî Luc 1:37",
      "¬´ Le Seigneur te gardera de tout mal. ¬ª ‚Äî Psaume 121:7",
      "¬´ L‚Äô√âternel est bon, refuge au jour de la d√©tresse. ¬ª ‚Äî Nahum 1:7",
      "¬´ Le juste tombe sept fois, et il se rel√®ve. ¬ª ‚Äî Proverbes 24:16",
      "¬´ B√©nis l‚Äô√âternel, mon √¢me‚Ä¶ ¬ª ‚Äî Psaume 103:2",
      "¬´ Nous marchons par la foi, non par la vue. ¬ª ‚Äî 2 Corinthiens 5:7",
      "¬´ Dieu est notre refuge et notre force‚Ä¶ ¬ª ‚Äî Psaume 46:1",
      "¬´ Le Seigneur est fid√®le ; il affermira ton c≈ìur. ¬ª ‚Äî 2 Thessaloniciens 3:3",
      "¬´ Recommande √† l‚Äô√âternel tes ≈ìuvres‚Ä¶ ¬ª ‚Äî Proverbes 16:3",
      "¬´ L‚Äôesp√©rance ne trompe point. ¬ª ‚Äî Romains 5:5",
      "¬´ Le ciel s‚Äôouvrira pour b√©nir le travail de tes mains. ¬ª ‚Äî Deut√©ronome 28:12",
      "¬´ Sois fort et prends courage, ne crains point. ¬ª ‚Äî Deut√©ronome 31:6",
      "¬´ L‚Äô√âternel est mon berger ; je ne manquerai de rien. ¬ª ‚Äî Psaume 23:1",
      "¬´ Pas par la force ni par la puissance, mais par mon Esprit. ¬ª ‚Äî Zacharie 4:6",
      "¬´ Le Seigneur affermit les pas de l‚Äôhomme‚Ä¶ ¬ª ‚Äî Psaume 37:23",
      "¬´ Quand je suis faible, c‚Äôest alors que je suis fort. ¬ª ‚Äî 2 Corinthiens 12:10",
      "¬´ Dieu fera √©clater ta justice comme la lumi√®re. ¬ª ‚Äî Psaume 37:6",
      "¬´ L√®ve-toi, ta lumi√®re arrive‚Ä¶ ¬ª ‚Äî √âsa√Øe 60:1"
    ];

    // Cat√©gories
    const CATS = { amour: MESSAGES_AMOUR, motivation: MESSAGES_MOTIVATION, bible: MESSAGES_BIBLE };

    // =========================
    // Gestion √©tat & limites
    // =========================
    const STORAGE = {
      DAILY: "teddy_daily_v2",         // { date:'YYYY-MM-DD', count:number }
      SEEN:  "teddy_seen_v2"           // { amour:[indices], motivation:[...], bible:[...] }
    };

    const els = {
      tabs: document.querySelectorAll(".tab"),
      msg: document.getElementById("message"),
      count: document.getElementById("count"),
      left: document.getElementById("left"),
      final: document.getElementById("finalNote"),
      draw: document.getElementById("draw"),
      share: document.getElementById("share")
    };

    let currentCat = "amour";

    function todayLocal(){
      const d = new Date();
      const y = d.getFullYear();
      const m = String(d.getMonth()+1).padStart(2,"0");
      const day = String(d.getDate()).padStart(2,"0");
      return `${y}-${m}-${day}`;
    }

    function loadDaily(){
      try{
        const raw = localStorage.getItem(STORAGE.DAILY);
        const today = todayLocal();
        if(!raw) return {date: today, count: 0};
        const obj = JSON.parse(raw);
        if(obj.date !== today) return {date: today, count: 0};
        return obj;
      }catch{ return {date: todayLocal(), count: 0}; }
    }
    function saveDaily(obj){ localStorage.setItem(STORAGE.DAILY, JSON.stringify(obj)); }
    function incDaily(){ const o = loadDaily(); o.count = (o.count||0) + 1; saveDaily(o); return o; }
    function remainingToday(){
      const o = loadDaily();
      return Math.max(0, MAX_DAILY - (o.count || 0));
    }

    function loadSeen(){
      try{
        const raw = localStorage.getItem(STORAGE.SEEN);
        if(!raw) return {amour:[], motivation:[], bible:[]};
        const obj = JSON.parse(raw);
        return {amour:obj.amour||[], motivation:obj.motivation||[], bible:obj.bible||[]};
      }catch{ return {amour:[], motivation:[], bible:[]}; }
    }
    function saveSeen(seen){ localStorage.setItem(STORAGE.SEEN, JSON.stringify(seen)); }

    function randomUnseenIndex(cat){
      const arr = CATS[cat];
      const seen = loadSeen();
      const set = new Set(seen[cat]);
      if(set.size >= arr.length){
        // tout vu -> on remet √† z√©ro la cat√©gorie
        seen[cat] = [];
        saveSeen(seen);
        return Math.floor(Math.random()*arr.length);
      }
      let idx;
      do{ idx = Math.floor(Math.random()*arr.length); } while(set.has(idx));
      return idx;
    }

    function markSeen(cat, idx){
      const seen = loadSeen();
      if(!Array.isArray(seen[cat])) seen[cat] = [];
      if(!seen[cat].includes(idx)) seen[cat].push(idx);
      saveSeen(seen);
    }

    function animateSparks(container){
      for(let i=0;i<8;i++){
        const s = document.createElement("div");
        s.className = "spark";
        const left = 12 + Math.random()*76;
        s.style.left = left + "%";
        s.style.animationDelay = (i*80)+"ms";
        container.appendChild(s);
        setTimeout(()=>s.remove(), 1300);
      }
    }

    function updateCounters(){
      const seen = loadSeen();
      const total = CATS[currentCat].length;
      const done = (seen[currentCat] || []).length;
      els.count.textContent = `${done} / ${total} (cat√©gorie)`;
      const remainDay = remainingToday();
      els.left.textContent = `Tirages restants aujourd‚Äôhui : ${remainDay}`;
    }

    function setCategory(cat){
      currentCat = cat;
      els.tabs.forEach(t=>{
        const active = t.dataset.cat===cat;
        t.classList.toggle("active", active);
        t.setAttribute("aria-selected", active ? "true":"false");
      });
      els.final.textContent = "";
      updateCounters();
      els.msg.textContent = "Pr√™te ? Appuie sur ¬´ Tirer un message ¬ª ‚ú®";
    }

    function drawMessage(){
      const left = remainingToday();
      if(left <= 0){
        els.final.textContent = "üå∏ Tu as d√©j√† tir√© tes messages d‚Äôaujourd‚Äôhui‚Ä¶ prends le temps de m√©diter sur ceux-l√† ü§é";
        return;
      }
      const idx = randomUnseenIndex(currentCat);
      const text = CATS[currentCat][idx];
      markSeen(currentCat, idx);
      els.msg.textContent = text;
      animateSparks(els.msg);
      incDaily();
      updateCounters();
    }

    function shareCurrent(){
      const text = els.msg.textContent?.trim() || "Des mots pour √©clairer tes journ√©es ‚Äî Teddy üß∏";
      const url = location.href;
      if(navigator.share){
        navigator.share({title:"Des mots ‚Äî Teddy üß∏", text, url}).catch(()=>{});
      }else{
        navigator.clipboard?.writeText(`${text}\n${url}`).then(()=>{
          els.final.textContent = "Lien + message copi√©s dans le presse-papiers ‚úÖ";
        }).catch(()=>{
          els.final.textContent = "Partage non support√© ‚Äî copie le texte manuellement üòä";
        });
      }
    }

    // Events
    document.querySelectorAll(".tab").forEach(tab=>{
      tab.addEventListener("click", ()=> setCategory(tab.dataset.cat));
    });
    els.draw.addEventListener("click", drawMessage);
    els.share.addEventListener("click", shareCurrent);

    // Init
    setCategory("amour");
    updateCounters();

    // R√©initialisation automatique du compteur √† minuit (check chaque minute)
    setInterval(()=>{
      const o = loadDaily();
      const today = todayLocal();
      if(o.date !== today){
        saveDaily({date: today, count: 0});
        updateCounters();
      }
    }, 60*1000);
  </script>
</body>
</html>
